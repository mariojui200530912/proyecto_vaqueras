<!-- Created with Jaspersoft Studio version 7.0.3.final using JasperReports Library version 7.0.3-41034ca841d452f3305ba55b9042260aaa1ab5dd  -->
<jasperReport name="FeedbackEmpresa" language="java" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="12516455-29a4-41b1-baf0-17ce9f865e8c">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<parameter name="ID_EMPRESA" class="java.lang.Integer"/>
	<query language="sql"><![CDATA[SELECT
			j.titulo,
			j.calificacion_promedio,
			u.nickname,
			c.comentario,
			c.fecha,
			ca.calificacion,
			ca.fecha
		FROM comentario c
		INNER JOIN juego j ON c.id_juego = j.id
		INNER JOIN usuario u ON c.id_usuario = u.id
		INNER JOIN calificacion ca ON c.id_usuario = ca.id_usuario AND c.id_juego = ca.id_usuario
		WHERE j.id_empresa = $P{ID_EMPRESA}
		ORDER BY j.titulo ASC, ca.calificacion ASC]]></query>
	<field name="titulo" class="java.lang.String"/>
	<field name="calificacion_promedio" class="java.lang.Double"/>
	<field name="nickname" class="java.lang.String"/>
	<field name="texto" class="java.lang.String"/>
	<field name="calificacion" class="java.lang.Integer"/>
	<field name="fecha" class="java.sql.Timestamp"/>
	<group name="JuegoGroup">
		<expression><![CDATA[$F{titulo}]]></expression>
		<groupHeader>
			<band height="45">
				<element kind="textField" uuid="966a95cd-09bc-47db-b2ca-d3c110a727cf" x="0" y="10" width="300" height="30" forecolor="#2C3E50" fontSize="14.0" bold="true" vTextAlign="Middle">
					<expression><![CDATA[$F{titulo}]]></expression>
				</element>
				<element kind="textField" uuid="79d1b5e7-0bdd-4031-a3fa-64db4dc0aecc" x="300" y="10" width="255" height="30" forecolor="#7F8C8D" fontSize="12.0" hTextAlign="Right" vTextAlign="Middle">
					<expression><![CDATA["Promedio Global: " + $F{calificacion_promedio} + " / 5.0"]]></expression>
				</element>
				<element kind="line" uuid="98c604d6-c77e-460e-a0e1-4edfe9406127" x="0" y="40" width="555" height="1"/>
			</band>
		</groupHeader>
	</group>
	<title height="50">
		<element kind="staticText" uuid="68af82be-6871-4d1e-8bbe-ea71b5117e65" x="0" y="10" width="555" height="30" fontSize="18.0" bold="true" hTextAlign="Center">
			<text><![CDATA[Reporte de Calidad y Feedback]]></text>
		</element>
	</title>
	<detail>
		<band height="50">
			<element kind="textField" uuid="76276039-6cba-45a4-ac5c-510915efc077" x="0" y="0" width="40" height="20" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{calificacion} + "â˜…"]]></expression>
			</element>
			<element kind="textField" uuid="1aa64fe4-574b-4a4b-a841-a30ee42ba6e1" x="50" y="0" width="200" height="20" forecolor="#666666" fontSize="9.0" italic="true" vTextAlign="Middle">
				<expression><![CDATA[$F{nickname} + " - " + $F{fecha}]]></expression>
			</element>
			<element kind="textField" uuid="115e05a6-4721-414a-a40e-b53944ddee93" x="50" y="20" width="500" height="20" textAdjust="StretchHeight" vTextAlign="Top">
				<expression><![CDATA[$F{texto}]]></expression>
			</element>
		</band>
	</detail>
</jasperReport>
