<!-- Created with Jaspersoft Studio version 7.0.3.final using JasperReports Library version 7.0.3-41034ca841d452f3305ba55b9042260aaa1ab5dd  -->
<jasperReport name="PrestamosSQL" language="java" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="03a46b17-1fe1-45ee-9bf8-ba4b63fa3c6e">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="proyecto_vaqueras"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<parameter name="ID_USUARIO" class="java.lang.Integer"/>
	<parameter name="NOMBRE_USUARIO" class="java.lang.String"/>
	<query language="sql"><![CDATA[SELECT p.fecha, p.estado, j.titulo, u.nickname as dueno
        FROM prestamo p
        INNER JOIN juego j ON p.id_juego = j.id
        INNER JOIN usuario u ON p.id_dueno = u.id
        WHERE p.id_beneficiario = $P{ID_USUARIO}
        ORDER BY p.fecha DESC]]></query>
	<field name="fecha" class="java.sql.Timestamp"/>
	<field name="estado" class="java.lang.String"/>
	<field name="titulo" class="java.lang.String"/>
	<field name="dueno" class="java.lang.String"/>
	<background splitType="Stretch"/>
	<title height="80">
		<element kind="rectangle" uuid="f7bb5ec7-ba36-4492-8f21-60c7b360ac48" x="-20" y="0" width="595" height="80" backcolor="#004D40">
			<pen lineWidth="0.0"/>
		</element>
		<element kind="staticText" uuid="81fe0f98-ddbf-463d-9b12-ee7da51e3c16" x="0" y="20" width="555" height="30" forecolor="#FFFFFF" fontSize="20.0" bold="true" hTextAlign="Center">
			<text><![CDATA[Historial de Préstamos Familiares]]></text>
		</element>
		<element kind="textField" uuid="95a42093-381a-49b1-b261-44779fe3d91c" x="0" y="50" width="555" height="20" forecolor="#B2DFDB" fontSize="12.0" hTextAlign="Center">
			<expression><![CDATA["Beneficiario: " + $P{NOMBRE_USUARIO}]]></expression>
		</element>
	</title>
	<columnHeader height="30">
		<element kind="staticText" uuid="740a295c-6974-4d70-997d-7702e929bbe3" x="0" y="0" width="100" height="20" bold="true">
			<text><![CDATA[Fecha Solicitud]]></text>
		</element>
		<element kind="staticText" uuid="87a05e9f-1904-4b3e-8796-8977eb9f3f8f" x="110" y="0" width="200" height="20" bold="true">
			<text><![CDATA[Juego]]></text>
		</element>
		<element kind="staticText" uuid="1a2c5556-adfe-4a2f-9b58-4b5444de1c58" x="320" y="0" width="120" height="20" bold="true">
			<text><![CDATA[Dueño (Amigo)]]></text>
		</element>
		<element kind="staticText" uuid="24ef2e45-ae6a-40a3-97e7-294a4af8131e" x="450" y="0" width="100" height="20" bold="true">
			<text><![CDATA[Estado]]></text>
		</element>
	</columnHeader>
	<detail>
		<band height="25">
			<element kind="textField" uuid="b2417d78-0511-44ad-a092-1768d29e2d51" x="0" y="0" width="100" height="20" pattern="dd/MM/yyyy">
				<expression><![CDATA[$F{fecha}]]></expression>
			</element>
			<element kind="textField" uuid="efdaee9a-f205-493c-8356-225f03d6d617" x="110" y="0" width="200" height="20">
				<expression><![CDATA[$F{titulo}]]></expression>
			</element>
			<element kind="textField" uuid="97d38006-737a-471a-b343-171830681b73" x="320" y="0" width="120" height="20">
				<expression><![CDATA[$F{dueno}]]></expression>
			</element>
			<element kind="textField" uuid="ce7ff10c-2843-48fa-a62c-2579100a694b" x="450" y="0" width="100" height="20" bold="true">
				<expression><![CDATA[$F{estado}]]></expression>
			</element>
		</band>
	</detail>
</jasperReport>
